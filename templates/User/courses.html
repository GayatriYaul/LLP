{% extends "base_user.html" %} {% block title %}Courses - FluentFusion{%
endblock %} {% block content %}

<h1>Available Courses</h1>
<br />
<div>
  {% with messages = get_flashed_messages() %} {% if messages %}
  <ul>
    {% for message in messages %}
    <div class="alert alert-success alert-dismissable" role="alert">
      <button
        type="button"
        class="close"
        data-dismiss="alert"
        aria-label="close"
      >
        <span aria-hidden="true">x</span>
      </button>
      {{ message }}
    </div>

    {% endfor %}
  </ul>
  {% endif %} {% endwith %}
</div>
<table class="table">
  <thead>
    <tr>
      <th scope="col">ID</th>
      <th scope="col">Title</th>
      <th scope="col">Description</th>
      <th scope="col">Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for course in courses %}
    <tr>
      <td>{{ course[0] }}</td>
      <td>{{ course[1] }}</td>
      <td>{{ course[2] }}</td>
      <td>
        <form action="/enroll" method="post">
          <input type="hidden" name="course_id" value="{{ course[0] }}" />
          <button type="submit" class="btn btn-primary">Enroll</button>
        </form>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>

{% endblock %}
